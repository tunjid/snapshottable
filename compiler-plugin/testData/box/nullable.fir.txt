FILE: nullable.kt
    package foo.bar

    public final fun box(): R|kotlin/String| {
        lval state: R|foo/bar/NullableState.SnapshotMutable| = (Q|foo/bar/NullableState.Companion|, Q|foo/bar/NullableState|.R|foo/bar/NullableState.Immutable.Immutable|(Null(null), Null(null))).R|foo/bar/NullableState.Companion.toSnapshotMutable|()
        when () {
            !=(R|<local>/state|.R|foo/bar/NullableState.SnapshotMutable.name|, Null(null)) ->  {
                ^box String(Fail 1)
            }
        }

        when () {
            !=(R|<local>/state|.R|foo/bar/NullableState.SnapshotMutable.count|, Null(null)) ->  {
                ^box String(Fail 2)
            }
        }

        R|<local>/state|.R|foo/bar/NullableState.SnapshotMutable.name| = String(test)
        when () {
            !=(R|<local>/state|.R|foo/bar/NullableState.SnapshotMutable.name|, String(test)) ->  {
                ^box String(Fail 3)
            }
        }

        R|<local>/state|.R|foo/bar/NullableState.SnapshotMutable.update|(Int(5))
        when () {
            !=(R|<local>/state|.R|foo/bar/NullableState.SnapshotMutable.count|, Int(5)) ->  {
                ^box String(Fail 4)
            }
        }

        R|<local>/state|.R|foo/bar/NullableState.SnapshotMutable.update|(Null(null))
        when () {
            !=(R|<local>/state|.R|foo/bar/NullableState.SnapshotMutable.name|, Null(null)) ->  {
                ^box String(Fail 5)
            }
        }

        lval spec: R|foo/bar/NullableState.Immutable| = (Q|foo/bar/NullableState.Companion|, R|<local>/state|).R|foo/bar/NullableState.Companion.toSnapshotSpec|()
        when () {
            !=(R|<local>/spec|.R|foo/bar/NullableState.Immutable.name|, Null(null)) ->  {
                ^box String(Fail 6)
            }
        }

        when () {
            !=(R|<local>/spec|.R|foo/bar/NullableState.Immutable.count|, Int(5)) ->  {
                ^box String(Fail 7)
            }
        }

        ^box String(OK)
    }
    @R|com/tunjid/snapshottable/Snapshottable|() public abstract interface NullableState : R|kotlin/Any| {
        @R|com/tunjid/snapshottable/SnapshottableSpec|() public final data class Immutable : R|foo/bar/NullableState| {
            public constructor(name: R|kotlin/String?|, count: R|kotlin/Int?|): R|foo/bar/NullableState.Immutable| {
                super<R|kotlin/Any|>()
            }

            public final override val name: R|kotlin/String?| = R|<local>/name|
                public get(): R|kotlin/String?|

            public final override val count: R|kotlin/Int?| = R|<local>/count|
                public get(): R|kotlin/Int?|

            public final operator fun component1(): R|kotlin/String?|

            public final operator fun component2(): R|kotlin/Int?|

            public final fun copy(name: R|kotlin/String?| = this@R|foo/bar/NullableState.Immutable|.R|foo/bar/NullableState.Immutable.name|, count: R|kotlin/Int?| = this@R|foo/bar/NullableState.Immutable|.R|foo/bar/NullableState.Immutable.count|): R|foo/bar/NullableState.Immutable|

        }

        public abstract val name: R|kotlin/String?|
            public get(): R|kotlin/String?|

        public abstract val count: R|kotlin/Int?|
            public get(): R|kotlin/Int?|

        public final class SnapshotMutable : R|foo/bar/NullableState| {
            public final override var name: R|kotlin/String?|
                public get(): R|kotlin/String?|
                public set(value: R|kotlin/String?|): R|kotlin/Unit|

            public final override var count: R|kotlin/Int?|
                public get(): R|kotlin/Int?|
                public set(value: R|kotlin/Int?|): R|kotlin/Unit|

            public final fun update(name: R|kotlin/String?| = R|kotlin/error|(), count: R|kotlin/Int?| = R|kotlin/error|()): R|foo/bar/NullableState.SnapshotMutable|

            public constructor(name: R|kotlin/String?|, count: R|kotlin/Int?|): R|foo/bar/NullableState.SnapshotMutable|

        }

        public final companion object Companion : R|kotlin/Any| {
            public final fun R|foo/bar/NullableState.Immutable|.toSnapshotMutable(): R|foo/bar/NullableState.SnapshotMutable|

            public final fun R|foo/bar/NullableState.SnapshotMutable|.toSnapshotSpec(): R|foo/bar/NullableState.Immutable|

            private constructor(): R|foo/bar/NullableState.Companion| {
                super<R|kotlin/Any|>()
            }

        }

    }
